(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-bab52282"],{"63e8":function(t,e,n){},"707a":function(t,e,n){"use strict";n.r(e);var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticStyle:{margin:"20px 0"}},[n("label",[t._v("当前酒店：")]),n("a-select",{staticClass:"finditem",staticStyle:{width:"250px"},attrs:{"show-search":"",placeholder:"选择一个酒店","option-filter-prop":"children","filter-option":t.filterOption},on:{focus:t.handleFocus,blur:t.handleBlur,change:t.handleChange},model:{value:t.formfind.hotelid,callback:function(e){t.$set(t.formfind,"hotelid",e)},expression:"formfind.hotelid"}},t._l(t.hotellist,(function(e,r){return n("a-select-option",{key:r,attrs:{value:e.hotelId}},[t._v(" "+t._s(e.hotelCname)+" ")])})),1)],1),n("h1",[t._v("可选服务")]),n("div",{style:{borderBottom:"1px solid #E9E9E9"}},[n("a-checkbox",{attrs:{indeterminate:t.indeterminate,checked:t.checkAll},on:{change:t.onCheckAllChange}},[t._v(" 全选 ")])],1),n("br"),n("a-checkbox-group",{attrs:{options:t.BuiltInoptions},on:{change:t.onChange},model:{value:t.checkedList,callback:function(e){t.checkedList=e},expression:"checkedList"}}),n("div",[n("br"),n("label",[t._v("自定义添加服务类型：")]),n("a-input",{staticStyle:{width:"200px"},attrs:{type:"text",placeholder:"管理员使用"},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}}),"serviceaddufo"==t.password?n("a-input",{staticStyle:{width:"100px"},on:{pressEnter:t.addcustom},model:{value:t.customjob,callback:function(e){t.customjob=e},expression:"customjob"}}):t._e(),"serviceaddufo"==t.password?n("a-button",{attrs:{type:"primary"},on:{click:t.addcustom}},[t._v("添加")]):t._e()],1),n("br"),n("h1",[t._v("职位映射")]),t._l(t.checkedList,(function(e,r){return n("div",{key:r,staticClass:"h2"},[n("div",[t._v(" "+t._s(e)+" "),n("span",{staticStyle:{"font-size":"10px",color:"red"}},[t._v(" 交由谁处理↓↓↓")])]),t._l(t.cjoblist,(function(r,i){return n("a-checkbox",{key:i,attrs:{value:r},on:{change:function(n){return t.onChange2(n,e)}}},[t._v(" "+t._s(r.jobname)+" ")])})),n("hr")],2)})),n("div",[n("br"),n("a-button",{staticStyle:{width:"30%"},attrs:{type:"danger"},on:{click:t.submit}},[t._v("提交")])],1)],2)},i=[],a=n("5530"),o=(n("a434"),n("5880")),c=n("c3bd"),s=["礼宾服务","送物服务","续住/退房","人工服务","打扫服务","维修服务"],u=["礼宾服务","送物服务"],l={name:"serviceadd",data:function(){return{cjoblist:[],customjob:"",password:"",BuiltInoptions:s,checkedList:u,indeterminate:!0,checkAll:!1,chotelname:"",formfind:{hotelid:null},relate:[]}},watch:{},mounted:function(){this.initdata()},computed:Object(a["a"])(Object(a["a"])({},Object(o["mapState"])("setting",["pageMinHeight"])),Object(o["mapGetters"])("account",["user","hotellist"])),methods:{getjoblist:function(){var t=this;Object(c["g"])(this.formfind).then((function(e){200==e.data.code&&(t.cjoblist=e.data.data,0==t.cjoblist.length&&t.$message.error("该酒店无职位，请去上层菜单设置"))}))},initdata:function(){this.getjoblist()},onChange2:function(t,e){if(Array.prototype.remove=function(t){var e=this.indexOf(t);e>-1&&this.splice(e,1)},t.target.checked)this.relate.push(t.target.value.jobid+"-"+e);else{t.target.value.jobid;this.relate.remove(t.target.value.jobid+"-"+e)}},addcustom:function(){if(""!=this.customjob){for(var t=this.BuiltInoptions.length,e=!1,n=0;n<t;n++)this.BuiltInoptions[n]==this.customjob&&(e=!0);e?this.$message.error("已存在相同名称的职位"):(this.BuiltInoptions.push(this.customjob),this.checkedList.push(this.customjob),this.customjob="")}else this.$message.error("自定义物品内容为空，请填写后添加")},submit:function(){var t=this;if(null!=this.formfind.hotelid){var e={};e.list=this.relate,e.hotelid=this.formfind.hotelid,this.$confirm({title:"该操作将覆盖酒店所有服务，修改谨慎，新增随意",onOk:function(){Object(c["h"])(e).then((function(e){null==e.data.code&&(t.$notification.open({message:"错误",description:e.data}),t.$router.push("/login")),200==e.data.code&&(t.$message.success("成功添加"),t.formfind.hotelid=null)}))},onCancel:function(){t.$message.info("已取消")},class:"test"})}else this.$message.error("酒店号不能为空")},onChange:function(t){this.indeterminate=!!t.length&&t.length<s.length,this.checkAll=t.length===s.length},onCheckAllChange:function(t){Object.assign(this,{checkedList:t.target.checked?s:[],indeterminate:!1,checkAll:t.target.checked})},handleChange:function(t){for(var e=this.hotellist,n=e.length,r=0;r<n;r++)e[r].hotelId==t&&(this.chotelname=e[r].hotelCname);this.BuiltInoptions=s,this.initdata()},handleBlur:function(){},handleFocus:function(){},filterOption:function(t,e){return e.componentOptions.children[0].text.toLowerCase().indexOf(t.toLowerCase())>=0}}},h=l,d=(n("d1da"),n("0c7c")),p=Object(d["a"])(h,r,i,!1,null,"5640ab38",null),f=p.exports;e["default"]=f},c3bd:function(t,e,n){"use strict";n.d(e,"g",(function(){return o})),n.d(e,"c",(function(){return s})),n.d(e,"h",(function(){return l})),n.d(e,"f",(function(){return d})),n.d(e,"b",(function(){return f})),n.d(e,"e",(function(){return b})),n.d(e,"a",(function(){return v})),n.d(e,"d",(function(){return O}));var r=n("1da1"),i=(n("96cf"),n("b775")),a=n("7424");function o(t){return c.apply(this,arguments)}function c(){return c=Object(r["a"])(regeneratorRuntime.mark((function t(e){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=Object(i["e"])(a["GETJOB"],i["a"].POST,e),t.abrupt("return",n);case 2:case"end":return t.stop()}}),t)}))),c.apply(this,arguments)}function s(t){return u.apply(this,arguments)}function u(){return u=Object(r["a"])(regeneratorRuntime.mark((function t(e){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=Object(i["e"])(a["ADDJOB"],i["a"].POST,e),t.abrupt("return",n);case 2:case"end":return t.stop()}}),t)}))),u.apply(this,arguments)}function l(t){return h.apply(this,arguments)}function h(){return h=Object(r["a"])(regeneratorRuntime.mark((function t(e){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=Object(i["e"])(a["SERVCIEJOBADD"],i["a"].POST,e),t.abrupt("return",n);case 2:case"end":return t.stop()}}),t)}))),h.apply(this,arguments)}function d(t){return p.apply(this,arguments)}function p(){return p=Object(r["a"])(regeneratorRuntime.mark((function t(e){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=Object(i["e"])(a["GETITEMTYPE"],i["a"].POST,e),t.abrupt("return",n);case 2:case"end":return t.stop()}}),t)}))),p.apply(this,arguments)}function f(t){return m.apply(this,arguments)}function m(){return m=Object(r["a"])(regeneratorRuntime.mark((function t(e){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=Object(i["e"])(a["ADDITEMTYPE"],i["a"].POST,e),t.abrupt("return",n);case 2:case"end":return t.stop()}}),t)}))),m.apply(this,arguments)}function b(t){return g.apply(this,arguments)}function g(){return g=Object(r["a"])(regeneratorRuntime.mark((function t(e){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=Object(i["e"])(a["GETHOTELTYPE"],i["a"].POST,e),t.abrupt("return",n);case 2:case"end":return t.stop()}}),t)}))),g.apply(this,arguments)}function v(t){return w.apply(this,arguments)}function w(){return w=Object(r["a"])(regeneratorRuntime.mark((function t(e){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=Object(i["e"])(a["ADDHOTELITEM"],i["a"].POST,e),t.abrupt("return",n);case 2:case"end":return t.stop()}}),t)}))),w.apply(this,arguments)}function O(t){return j.apply(this,arguments)}function j(){return j=Object(r["a"])(regeneratorRuntime.mark((function t(e){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=Object(i["e"])(a["ADDWELCOME"],i["a"].POST,e),t.abrupt("return",n);case 2:case"end":return t.stop()}}),t)}))),j.apply(this,arguments)}},d1da:function(t,e,n){"use strict";var r=n("63e8"),i=n.n(r);i.a}}]);